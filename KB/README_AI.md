# Kosmos Panel ‚Äî –ø–∞–º—è—Ç–∫–∞ –¥–ª—è LLM/–∞–≥–µ–Ω—Ç–æ–≤

–¶–µ–ª—å: –±—ã—Å—Ç—Ä–æ –≤–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

**Kosmos Panel** ‚Äî —ç—Ç–æ –ø–∞–Ω–µ–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º **AI-–ø–æ–º–æ—â–Ω–∏–∫–æ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ**. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ai: –ø–æ–∫–∞–∂–∏ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã`) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ shell-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Backend (Node.js/Express) ‚Äî `server/`:
  - `index.js`: HTTP‚Äë—Å–µ—Ä–≤–µ—Ä, —Å—Ç–∞—Ç–∏–∫–∞ `web/`, API: `/api/servers`, `/api/inventory`, `/api/reload`, `/api/test-ssh`, –∑–∞–ø—É—Å–∫ scheduler'–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ REST API.
  - `monitor.js`: –∑–∞–≥—Ä—É–∑–∫–∞/–≥–æ—Ä—è—á–∏–π reload `inventory.json`, –∫–µ—à –∫—Ä–µ–¥–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∏: http, httpJson(JSONPath via jsonpath-plus), tcp, tls(—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç), systemd, sshCommand, dockerContainer; –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (—Ü–≤–µ—Ç).
  - `ws.js`: WS `/ws/terminal` (pty shell –ø–æ ssh2) –∏ `/ws/tail` (`tail -F` –ø–æ ssh2). –°–æ–æ–±—â–µ–Ω–∏—è JSON: `{type:"data"|"err"|"fatal"|"ai_query", data?, error?, prompt?}`. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç AI-–∫–æ–º–∞–Ω–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `ai:`.
  - `terminal.js`: REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–µ –≤–µ—Ä—Å–∏–∏ API: v1 (–±–∞–∑–æ–≤–∞—è) –∏ v2 (—Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –æ—Ç–≤–µ—Ç–æ–≤).
  - `ws-utils.js`: –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SSH –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–∞–∫ –≤ WebSocket, —Ç–∞–∫ –∏ –≤ REST API.
- Frontend (–≤–∞–Ω–∏–ª—å–Ω—ã–π JS) ‚Äî `web/`:
  - `index.html`, `styles.css`, `app.js`: —Å–µ—Ç–∫–∞ –ø–ª–∏—Ç–æ–∫, —Ç—É–ª—Ç–∏–ø—ã, –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π, xterm.js —Ç–µ—Ä–º–∏–Ω–∞–ª, –ø–ª–∞–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞/tail, –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ `/term.html`.
  - `term.html`: –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞/–æ–∫–Ω–æ —Å xterm. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç AI-–∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Ö–≤–∞—Ç –∫–ª–∞–≤–∏—à–∏ Enter.
- –ö–æ–Ω—Ñ–∏–≥:
  - `inventory.json`: —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –ø—Ä–∏–≤—è–∑–æ–∫ –∫ –∫—Ä–µ–¥–∞–º.
    - `credentials`: `privateKeyPath?`, `passphrase?`, `useAgent?`, `password?`
    - `servers[].ssh { host, port, user, credentialId }`
    - `servers[].services[]` —Å–æ `type`: http|httpJson|tcp|tls|systemd|sshCommand|dockerContainer
  - `.env`: –§–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ (–ø–∞—Ä–æ–ª–∏, –ø—É—Ç–∏ –∫ –∫–ª—é—á–∞–º). –ù–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ git.
  - `config.json`: **(–ù–æ–≤–æ–µ —Å 2026-02-16)** –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ AI-–Ω–∞—Å—Ç—Ä–æ–µ–∫. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ API –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- `/api/servers` ‚áí `{ ts, servers:[{ id,name,env,color,ssh,services:[{id,name,type,ok,detail}] }] }`
- –¶–≤–µ—Ç: `green|yellow|red|gray` –ø–æ –≤—Å–µ–º —Å–µ—Ä–≤–∏—Å–∞–º.
- WS –≤—Ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞:
  - terminal: `{type:"data",data}` | `{type:"resize",cols,rows}` | `{type:"close"}` | `{type:"ai_query",prompt}`
  - tail: –∫–ª–∏–µ–Ω—Ç –Ω–∏—á–µ–≥–æ –Ω–µ —à–ª—ë—Ç (–∫—Ä–æ–º–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–∫–µ—Ç–∞).

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Ä–º–∏–Ω–∞–ª—É**: [README_terminal.md](README_terminal.md)

## –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- `inventory.json` –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è in‚Äëplace; –∫–µ—à –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π –æ—á–∏—â–∞–µ—Ç—Å—è.
- `config.json` **–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω ‚Äî —Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.
- –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–ª—é—á–µ–π; –≤ API –¥–æ–ø—É—Å—Ç–∏–º—ã —Ç–æ–ª—å–∫–æ –ø—É—Ç–∏.
- –¢–µ—Ä–º–∏–Ω–∞–ª/tail ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ SSH. –û—à–∏–±–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ `[FATAL]`.
- Front –±–µ–∑ —Å–±–æ—Ä–∫–∏/—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤; xterm.js ‚Äî —á–µ—Ä–µ–∑ CDN.
- SSH-–∞–≥–µ–Ω—Ç: –Ω–∞ Windows –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É—Ç—å `\\\\.\\pipe\\openssh-ssh-agent`.
- `.env` —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ `inventory.json` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `${SSH_PASSWORD}`).

## –ö–∞–∫ —Ä–∞—Å—à–∏—Ä—è—Ç—å
- –ù–æ–≤—ã–π —Ç–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏: –¥–æ–±–∞–≤–∏—Ç—å `checkX(...)` –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤ `runServiceCheck()` (`server/monitor.js`).
- –ù–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ UI: –¥–æ–ø–∏—Å–∞—Ç—å –ø—É–Ω–∫—Ç –≤ `openActions()` (`web/app.js`) –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
- –ù–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å—Ç–∞—Ç—É—Å–∞: —Ä–∞—Å—à–∏—Ä–∏—Ç—å `pollOnce()` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º —Å–±–æ—Ä–æ–º.
- WS‚Äë–ø—Ä–æ—Ç–æ–∫–æ–ª: –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ `type` –±–µ–∑ lom–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö.

## AI-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- **–ö–æ–º–∞–Ω–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `ai:`**: –í –ª—é–±–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤–∏–¥–∞ `ai: –ø–æ–∫–∞–∂–∏ —Ñ–∞–π–ª—ã`, `ai: –ø—Ä–æ–≤–µ—Ä—å –¥–∏—Å–∫` –∏ —Ç.–¥.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**: AI –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ –≤ shell-–∫–æ–º–∞–Ω–¥—ã –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏—Ö.
- **–ü–µ—Ä–µ—Ö–≤–∞—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ**: `term.html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `attachCustomKeyEventHandler` –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –Ω–∞–∂–∞—Ç–∏–π Enter.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**: `ws.js` –ø–æ–ª—É—á–∞–µ—Ç `ai_query`, –æ—á–∏—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—É—é –∫–æ–º–∞–Ω–¥—É (`\x15`) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ AI API.
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ config.json**: **(–ù–æ–≤–æ–µ —Å 2026-02-16)**
  - `AI_KOSMOS_MODEL_BASE_URL` ‚Äî URL AI-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä `http://usa:3002/v1`)
  - `AI_MODEL` ‚Äî –º–æ–¥–µ–ª—å AI (–Ω–∞–ø—Ä–∏–º–µ—Ä `FAST`, `CHEAP`)
  - `AI_SYSTEM_PROMPT` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
  - `AI_SERVER_URL_HELP` ‚Äî URL AI-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–º–æ—â–∏ /api/ai-help
  - `AI_MODEL_HELP` ‚Äî –º–æ–¥–µ–ª—å –¥–ª—è AI-–ø–æ–º–æ—â–Ω–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `moonshotai/kimi-dev-72b:free`)
  - `AI_PROVIDER_HELP` ‚Äî –ø—Ä–æ–≤–∞–π–¥–µ—Ä AI (–Ω–∞–ø—Ä–∏–º–µ—Ä `openroute`)
  - `AI_SYSTEM_PROMPT_HELP` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI –ø–æ–º–æ—â–Ω–∏–∫–∞
  - `AI_HELP_CONTEXT_FILES` ‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ AI-–ø–æ–º–æ—â–Ω–∏–∫–∞
  - **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞**: `POST /api/reload-config` ‚Äî –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞–µ—Ç `config.json` –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
  - **UI —Ä–µ–¥–∞–∫—Ç–æ—Ä**: –í–∫–ª–∞–¥–∫–∞ "AI Config" –≤ `/inventory-editor.html` –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö AI-–Ω–∞—Å—Ç—Ä–æ–µ–∫
  - **API endpoints**:
    - `GET /api/config` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    - `POST /api/config` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
    - `POST /api/reload-config` ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç `–ó–∞–ø—Ä–æ—Å –∫ AI: ...` –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –ü–æ–¥–≥—Ä—É–∑–∫–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è AI (RAG)
–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤ AI –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∑–Ω–∞–Ω–∏—è) –∏–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç "–æ–±—É—á–∏—Ç—å" AI —Å–ø–µ—Ü–∏—Ñ–∏–∫–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**–£–¥–∞–ª–µ–Ω–Ω—ã–µ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ) –∑–Ω–∞–Ω–∏—è:**
-   **–§–∞–π–ª—ã** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —á—Ç–µ–Ω–∏—è):
    1.  `./.kosmos-panel/kosmos-panel.md` ‚Äî –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
    2.  `~/.config/kosmos-panel/kosmos-panel.md` ‚Äî –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (fallback)
-   **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: –ù–∞ *—Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ*, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –ø–æ SSH.
-   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é **–¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–º–µ–Ω–∞ –∏ –ø—É—Ç–∏ –∫ –ª–æ–≥–∞–º –∫–ª—é—á–µ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, —Å–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ü–û, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.
-   **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**: –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–π `ai:`-–∫–æ–º–∞–Ω–¥—ã —Å–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç `cat` —Ñ–∞–π–ª–∞ –ø–æ —Ç–µ–∫—É—â–µ–º—É SSH-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI.
-   **–í–∞–∂–Ω–æ**: –§–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è **–∫–∞–∂–¥—ã–π —Ä–∞–∑** –ø—Ä–∏ –∫–∞–∂–¥–æ–º AI-–∑–∞–ø—Ä–æ—Å–µ (–Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è). –¢–∞–π–º–∞—É—Ç —á—Ç–µ–Ω–∏—è: 5 —Å–µ–∫—É–Ω–¥. –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø—É—Å—Ç, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

–§–∞–π–ª –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –ï—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –∏ AI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–≤—ã–º —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º.

### AI Skills (–º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏)

Skills ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ prompt-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø–æ–≤—ã–µ **–º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ** –∑–∞–¥–∞—á–∏. –ö–∞–∂–¥—ã–π skill –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π SKILL.md —Ñ–∞–π–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è AI.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–ú–Ω–æ–≥–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** ‚Äî skill –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ 100 –∫–æ–º–∞–Ω–¥ –ø–æ–¥—Ä—è–¥
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî AI –º–æ–∂–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤–≤–æ–¥ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, commit message)
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** ‚Äî AI –≤–∏–¥–∏—Ç –≤—ã–≤–æ–¥ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- **–î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞** ‚Äî skills –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤ (–¥–µ—Ä–µ–≤–æ)
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–° (Windows/Linux) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–∞–Ω–¥

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ skills:**

1. **–°–µ—Ä–≤–µ—Ä kosmos-panel** (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏):
```
/.kosmos-panel/skills/
‚îú‚îÄ‚îÄ win/
‚îÇ   ‚îú‚îÄ‚îÄ git-quick-commit/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md
‚îÇ   ‚îú‚îÄ‚îÄ git-main-merge-dev/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md
‚îÇ   ‚îî‚îÄ‚îÄ multi-repo-commit-dev/
‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md
‚îú‚îÄ‚îÄ lin/
‚îÇ   ‚îî‚îÄ‚îÄ get_import_latest_dump/
‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md
‚îî‚îÄ‚îÄ check-openssh-server/
    ‚îî‚îÄ‚îÄ SKILL.md
```

2. **–£–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** (–≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
```
~/.config/kosmos-panel/skills/
‚îú‚îÄ‚îÄ git-quick-commit/
‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md
‚îú‚îÄ‚îÄ docker-logs/
‚îÇ   ‚îî‚îÄ‚îÄ SKILL.md
‚îî‚îÄ‚îÄ find-large-files/
    ‚îî‚îÄ‚îÄ SKILL.md
```

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI:**
Skills –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏, –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤:
- `Project: /.kosmos-panel/skills` ‚Äî skills —Å —Å–µ—Ä–≤–µ—Ä–∞ kosmos-panel
- `Remote: ~/.config/kosmos-panel/skills` ‚Äî skills —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ (üìÅ –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π).

**–§–æ—Ä–º–∞—Ç SKILL.md:**
```markdown
---
name: git-quick-commit
description: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
params:
  - name: message
    description: –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞
    required: false
---
## What I do

–Ø –≤—ã–ø–æ–ª–Ω—è—é —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ó–∞–ø—É—Å–∫–∞—é `git status --porcelain`
2. –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–ø—Ä–∞—à–∏–≤–∞—é —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞
3. –í—ã–ø–æ–ª–Ω—è—é `git add .` –∏ `git commit -m "<—Å–æ–æ–±—â–µ–Ω–∏–µ>"`

## When to use me

–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
```

**–ö–∞–∫ –≤—ã–∑–≤–∞—Ç—å skill:**
- –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **Skills** –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ ‚Üí –≤—ã–±—Ä–∞—Ç—å skill ‚Üí –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –í—ã–ø–æ–ª–Ω–∏—Ç—å

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å skill:**
- –í –¥–∏–∞–ª–æ–≥–µ Skills –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **+** —É –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–∏
- –í–≤–µ—Å—Ç–∏ –∏–º—è skill (–ª–∞—Ç–∏–Ω–∏—Ü–∞, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
- –í–≤–µ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ SKILL.md (—Å frontmatter)
- –ù–∞–∂–∞—Ç—å **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**

Skills –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ (Project), —Ç–∞–∫ –∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (Remote).

**–ü—Ä–æ—Ç–æ–∫–æ–ª –æ—Ç–≤–µ—Ç–æ–≤ AI –¥–ª—è skills (–µ–¥–∏–Ω—ã–π –¥–ª—è WS –∏ REST):**

AI –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –æ–¥–Ω–æ–º –∏–∑ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (–æ–ø–∏—Å–∞–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –≤ `server/skill-ai.js`):

- `[CMD] –∫–æ–º–∞–Ω–¥–∞` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å shell-–∫–æ–º–∞–Ω–¥—É, AI –ø–æ–ª—É—á–∏—Ç –≤—ã–≤–æ–¥
- `[ASK] –≤–æ–ø—Ä–æ—Å` ‚Äî –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏ **–∂–¥–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `[ASK:optional] –≤–æ–ø—Ä–æ—Å` ‚Äî –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å (Enter)
- `[MESSAGE] —Ç–µ–∫—Å—Ç` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ **—Å—Ä–∞–∑—É –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å** (–±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –≤–≤–æ–¥–∞)
- `[DONE] —Ç–µ–∫—Å—Ç` ‚Äî skill –∑–∞–≤–µ—Ä—à—ë–Ω, –ø–æ–∫–∞–∑–∞—Ç—å –∏—Ç–æ–≥–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**WS-—Å–æ–æ–±—â–µ–Ω–∏—è:**

–ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä:
- `{type: "skills_list"}` ‚Äî –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ skills
- `{type: "skill_invoke", name, path, source, params, prompt}` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å skill
  - `name` ‚Äî –∏–º—è skill (–∏–∑ frontmatter)
  - `path` ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `win/git-quick-commit` –∏–ª–∏ `check-openssh-server`)
  - `source` ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫: `"project"` –∏–ª–∏ `"remote"`
  - `params` ‚Äî –æ–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - `prompt` ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `{type: "skill_user_input", text}` ‚Äî –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≤–æ–ø—Ä–æ—Å AI
- `{type: "skill_cancel"}` ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π skill
- `{type: "skill_create", source, path, name, content}` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π skill
  - `source` ‚Äî `"project"` –∏–ª–∏ `"remote"`
  - `path` ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –¥–ª—è –∫–æ—Ä–Ω—è)
  - `name` ‚Äî –∏–º—è –Ω–æ–≤–æ–≥–æ skill (–∏–º—è –ø–∞–ø–∫–∏)
  - `content` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ SKILL.md

–°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç:
- `{type: "skills_list", skills: [...]}` ‚Äî —Å–ø–∏—Å–æ–∫ skills
  - –ö–∞–∂–¥—ã–π skill —Å–æ–¥–µ—Ä–∂–∏—Ç: `{id, name, description, params, path, source}`
- `{type: "skill_step", step, max}` ‚Äî —Ç–µ–∫—É—â–∏–π —à–∞–≥ (1-100)
- `{type: "skill_create_result", success, error}` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è skill
- `{type: "skill_message", text, required?}` ‚Äî –≤–æ–ø—Ä–æ—Å –æ—Ç AI (–∂–¥—ë—Ç –≤–≤–æ–¥–∞; `required: false` –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ)
- `{type: "skill_complete", text}` ‚Äî skill –∑–∞–≤–µ—Ä—à—ë–Ω
- `{type: "skill_error", error}` ‚Äî –æ—à–∏–±–∫–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- Skills —á–∏—Ç–∞—é—Ç—Å—è —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ SSH –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ (remote); –ª–æ–∫–∞–ª—å–Ω—ã–µ ‚Äî —Å –¥–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (project)
- –ú–∞–∫—Å–∏–º—É–º 100 —à–∞–≥–æ–≤ (–∏—Ç–µ—Ä–∞—Ü–∏–π) –Ω–∞ –æ–¥–∏–Ω skill
- –¢–∞–π–º–∞—É—Ç –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã: 30 —Å–µ–∫—É–Ω–¥ (–≤ REST API ‚Äî –Ω–∞ –∑–∞–ø—Ä–æ—Å –∫ AI —Ç–æ–∂–µ 30 —Å)
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ AI
- –ï–¥–∏–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ –≤ `server/skill-ai.js` (–∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏ ws.js, –∏ skills.js)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ knowledge —Ñ–∞–π–ª–æ–≤ —Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (`./.kosmos-panel/kosmos-panel.md` –∏–ª–∏ `~/.config/kosmos-panel/kosmos-panel.md`)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- `server/skill-ai.js` ‚Äî –æ–±—â–∏–π –º–æ–¥—É–ª—å: —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, `buildSkillSystemPrompt()`, `parseSkillResponse()`, `callSkillAI()`, `getRemoteKnowledge()`
- Backend WebSocket: `server/ws.js`
  - `getProjectSkills()`, `getRemoteSkills()`, `getProjectSkill()`, `getRemoteSkill()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ skills
  - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `buildSkillSystemPrompt`, `parseSkillResponse`, `getRemoteKnowledge` –∏–∑ `skill-ai.js`
  - `activeSkill` state, `processSkillResponse()` –ø–æ –µ–¥–∏–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É, —Ö—É–∫ –≤ `checkForPromptAndFlush()`
- Backend REST API: `server/skills.js` ‚Äî `POST /api/skills/start`, `/:id/message`, `/:id/continue` –∏ –¥—Ä.; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `skill-ai.js`
- Frontend:
  - `web/term.html` ‚Äî standalone-—Ç–µ—Ä–º–∏–Ω–∞–ª —Å –ø–ª–∞–≤–∞—é—â–∏–º –æ–∫–Ω–æ–º Skills
  - `web/workspace.html` + `web/workspace.js` ‚Äî Workspace-—Ä–µ–∂–∏–º (—Ç–µ—Ä–º–∏–Ω–∞–ª + –ª–æ–≥–∏ + Skills –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏)
  - –û–±–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –º–æ–¥–µ–ª—å –ø–æ–≤–µ–¥–µ–Ω–∏—è Enter –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–≤–æ–¥–æ–≤ –¥–ª—è Skills

#### –ü–æ–≤–µ–¥–µ–Ω–∏–µ Enter –¥–ª—è —à–∞–≥–æ–≤ Skills

–ö–æ–≥–¥–∞ AI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —à–∞–≥ `[CMD]`:

- –ö–ª–∏–µ–Ω—Ç (`term.html` –∏–ª–∏ `workspace.js`) –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–µ—Å—Å–∏—é Skills –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `waiting_cmd` –∏:
  - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ UI –±–ª–æ–∫ **¬´–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞¬ª** —Å —Ç–µ–∫—Å—Ç–æ–º –∫–æ–º–∞–Ω–¥—ã;
  - –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª —á–µ—Ä–µ–∑ `term.paste(...)` –∏ –∂–¥—ë—Ç –Ω–∞–∂–∞—Ç–∏—è Enter.
- –ü—Ä–∏ **–ª—é–±–æ–º –Ω–µ–ø—É—Å—Ç–æ–º Enter –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `waiting_cmd`**:
  - —Ç–µ–∫—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (–ø–æ—Å–ª–µ –ø—Ä–æ–º–ø—Ç–∞) —Å—á–∏—Ç–∞–µ—Ç—Å—è **—Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π —à–∞–≥–∞**, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–∏–∑–º–µ–Ω–∏–ª** –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É;
  - –∫–ª–∏–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã:
    - –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî –≤ `skillDialogState.outputBuffer` (–≤—Å–µ —á–∞–Ω–∫–∏ `data/err` –∑–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è);
    - –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî —á–µ—Ä–µ–∑ `subscribeToOutput(...)` –≤ `server/skills.js` (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 —Å—Ç—Ä–æ–∫ `session.outputBuffer`);
  - —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à–æ–π —Ç–∞–π–º–∞—É—Ç (—Å–µ–π—á–∞—Å ~2 —Å–µ–∫—É–Ω–¥—ã, —á—Ç–æ–±—ã –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–≤–æ–¥–∞) –∫–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç:
    - `GET /api/skills/:skillSessionId/output` (—Ñ–æ–ª–ª–±–µ–∫, –µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä –ø—É—Å—Ç);
    - `POST /api/skills/:skillSessionId/command-result` —Å –ø–æ–ª–µ–º `stdout`, —Å–æ–±—Ä–∞–Ω–Ω—ã–º –∏–∑:
      - –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞ **–∏–ª–∏**
      - —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ `session.outputBuffer` (–µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä –ø—É—Å—Ç).
- –ü–æ—Å–ª–µ `command-result`:
  - REST-—Å–ª–æ–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–ª—è AI —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∏–¥–∞  
    `Command output:\n<–æ—á–∏—â–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥>\n\n[Step N of M]`;
  - –≤—ã–∑—ã–≤–∞–µ—Ç `callSkillAI(...)`, –ø–∞—Ä—Å–∏—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `parseSkillResponse(...)` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ (`CMD` / `ASK` / `MESSAGE` / `DONE`) –≤ –±—Ä–∞—É–∑–µ—Ä.

–í–∞–∂–Ω–æ:

- **–°—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–∞–Ω–¥—ã –±–æ–ª—å—à–µ –Ω–µ—Ç** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —à–∞–≥–∞ –≤—Å–µ–≥–¥–∞ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –≤—ã–≤–æ–¥–µ —Ç–æ–π –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–∞–ª—å–Ω–æ –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `waiting_cmd`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
  - –ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–ª–∞–≥–∏, –º–µ–Ω—è—Ç—å –ø—É—Ç—å –∏ —Ç.–ø.;
  - –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–æ–æ–±—â–µ –¥—Ä—É–≥—É—é –∫–æ–º–∞–Ω–¥—É, –µ—Å–ª–∏ —Ç–∞–∫ —É–¥–æ–±–Ω–µ–µ, –∞ Skill –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –µ—ë –≤—ã–≤–æ–¥–æ–º.
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
  - `skill:skip` ‚Äî –ø—Ä–æ–ø—É—Å–∫ —à–∞–≥–∞ –±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:
    - –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ shell, —Å—Ç—Ä–æ–∫–∞ –æ—á–∏—â–∞–µ—Ç—Å—è (`Ctrl+U`);
    - –∫–ª–∏–µ–Ω—Ç —Å—Ä–∞–∑—É —à–ª—ë—Ç `POST /api/skills/:id/command-result { skipped: true }`;
  - `skill:cancel` ‚Äî –ø–æ–ª–Ω–∞—è –æ—Ç–º–µ–Ω–∞ Skills-—Å–µ—Å—Å–∏–∏:
    - –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ shell;
    - –∫–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `DELETE /api/skills/:id`, –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `done` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ—Å—Å–∏—é –≤ –∏—Å—Ç–æ—Ä–∏—é —Å `status: cancelled`.
- –í standalone-—Ç–µ—Ä–º–∏–Ω–∞–ª–µ (`term.html`) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ **¬´–Ø –≤—ã–ø–æ–ª–Ω–∏–ª –∫–æ–º–∞–Ω–¥—É¬ª**:
  - —ç—Ç–æ –∑–∞–ø–∞—Å–Ω–æ–π —Ä—É—á–Ω–æ–π –ø—É—Ç—å: –µ—Å–ª–∏ Enter –Ω–µ –±—ã–ª –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ª—É—á–∞–π), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É, –∏ –∫–ª–∏–µ–Ω—Ç —Å–æ–±–µ—Ä—ë—Ç –≤—ã–≤–æ–¥ –∏–∑ –±—É—Ñ–µ—Ä–æ–≤ –∏ –≤—ã–∑–æ–≤–µ—Ç `command-result` —è–≤–Ω–æ.

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è WebSocket, –≥–¥–µ REST

| –§—É–Ω–∫—Ü–∏—è | WebSocket | REST |
|--------|----------|------|
| **–¢–µ—Ä–º–∏–Ω–∞–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ** (–≤–≤–æ–¥/–≤—ã–≤–æ–¥, pty) | ‚úÖ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É—Ç—å: `/ws/terminal` | ‚Äî |
| **Tail –ª–æ–≥–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ** | ‚úÖ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É—Ç—å: `/ws/tail` | ‚Äî |
| **Skills –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞** | ‚úÖ –ø–æ —Ç–æ–º—É –∂–µ WS: `skill_invoke`, `skill_user_input` –∏ –¥—Ä. (`term.html`, `app.js`, `workspace.js`) | ‚úÖ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `POST /api/skills/start`, `.../message`, `.../continue`, `.../command-result` –∏ —Ç.–¥. |
| **–¢–µ—Ä–º–∏–Ω–∞–ª –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞** (—Å–∫—Ä–∏–ø—Ç—ã, –≤–Ω–µ—à–Ω–∏–π API) | ‚Äî | ‚úÖ `POST /api/v1/terminal/sessions`, `.../exec` –∏ —Ç–æ –∂–µ –¥–ª—è v2 |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ WS-—Å–µ—Å—Å–∏—è–º–∏** (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª) | ‚Äî | ‚úÖ `GET /api/ws-terminal/sessions`, `POST /api/ws-terminal/:sessionId/command` –∏ –¥—Ä. |

- **WS**: —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/ws/terminal`, `/ws/tail`; –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ `server/ws.js`; –∫–ª–∏–µ–Ω—Ç—ã ‚Äî `web/term.html`, `web/app.js`, `web/workspace.js`.
- **REST**: —Ç–µ—Ä–º–∏–Ω–∞–ª ‚Äî `server/terminal.js` (v1/v2); skills ‚Äî `server/skills.js` (`/api/skills/*`); –º–æ—Å—Ç –∫ WS ‚Äî `server.js` (`/api/ws-terminal/*`).

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Å—Ç–∞/–¥–æ–ª–≥–∏
- –ù–µ—Ç auth –≤ –≤–µ–±‚Äë–ø–∞–Ω–µ–ª–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî JWT + —Ä–æ–ª–∏).
- –ù—É–∂–µ–Ω whitelist/confirm –¥–ª—è –æ–ø–∞—Å–Ω—ã—Ö —ç–∫—à–µ–Ω–æ–≤.

## –ü—Ä–∏–º–µ—Ä—ã
- –¢–µ—Ä–º–∏–Ω–∞–ª –≤–æ –≤–∫–ª–∞–¥–∫–µ: `/term.html?mode=terminal&serverId=usa`
- Tail –≤–æ –≤–∫–ª–∞–¥–∫–µ: `/term.html?mode=tail&serverId=usa&path=/var/log/syslog`
- AI-–∫–æ–º–∞–Ω–¥–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `ai: –ø–æ–∫–∞–∂–∏ 10 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è `find . -type f -exec ls -s {} + | sort -n -r | head -n 10`
- REST API v1: `curl -X POST -H "Content-Type: application/json" -d '{"serverId": "usa"}' http://localhost:3000/api/v1/terminal/sessions`
- REST API v2: `curl -X POST -H "Content-Type: application/json" -d '{"serverId": "usa"}' http://localhost:3000/api/v2/terminal/sessions`
- –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã: `node test_usa.js` (–¥–ª—è v1) –∏ `node tests/test_usa_v2.js` (–¥–ª—è v2)

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
npm install
npm start
```

## –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö
- SSH/WS: `server/ws.js` (–ª–æ–≥–∏ `[ws] ...`) –∏ `[FATAL]` –≤ UI.
- Reload –∫–æ–Ω—Ñ–∏–≥–∞: `server/monitor.js` (fs.watchFile), `/api/reload`.
- Reload AI –∫–æ–Ω—Ñ–∏–≥–∞: `server.js` (loadConfig), `/api/reload-config`.
- –í—ë—Ä—Å—Ç–∫–∞/fit xterm: `web/styles.css`, `web/app.js` .

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-18