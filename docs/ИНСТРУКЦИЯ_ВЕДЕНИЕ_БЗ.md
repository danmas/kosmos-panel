# Инструкция по внедрению и ведению базы знаний (БЗ)

**Назначение:** Универсальная инструкция для введения в проекте единого подхода к документации в папке «база знаний» (KB). Можно скопировать этот файл в другой репозиторий и адаптировать под его структуру.

---

## 1. Модель БЗ

- **Папка:** В корне проекта создаётся папка `KB/` (Knowledge Base).
- **Единая точка входа:** Файл `KB/README_INDEX.md` — единственное оглавление. Все документы БЗ перечислены в нём по секциям.
- **Документы:** Каждый документ — один логичный аспект системы (архитектура, API, БД, тесты и т.п.). Формат — Markdown (`.md`); при необходимости в KB могут храниться и другие файлы (например, каноническая SQL-схема).
- **Язык:** Основной язык БЗ — русский; термины из кода/API пишутся так же, как в коде.

---

## 2. Первоначальная настройка в новом проекте

### Шаг 1. Создать папку и индекс

1. Создать папку `KB/` в корне репозитория.
2. Создать файл `KB/README_INDEX.md` по шаблону ниже.

### Шаг 2. Шаблон `README_INDEX.md`

Скопируйте структуру и подставьте название проекта и нужные секции.

```markdown
# KB README Index — Оглавление базы знаний

**Назначение:** Навигация по документации проекта «НАЗВАНИЕ ПРОЕКТА».

---

## Содержание

1. [Архитектура и технологии](#1-архитектура-и-технологии)
2. [База данных](#2-база-данных)
3. [API и интеграции](#3-api-и-интеграции)
4. [Доменная логика / Фичи](#4-доменная-логика)
5. [Тестирование](#5-тестирование)
6. [Утилиты и прочее](#6-утилиты-и-прочее)
7. [Правила ведения KB](#правила-ведения-kb)

---

## 1. Архитектура и технологии

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|
| (добавлять README по мере появления) | | | |

---

## 2. База данных

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|
| (при наличии схемы — current_DB_schema.sql и README про БД) | | | |

---

## 3. API и интеграции

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|

---

## 4. Доменная логика / Фичи

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|

---

## 5. Тестирование

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|

---

## 6. Утилиты и прочее

| Файл | Описание | Ключевые темы | Актуализация |
|------|----------|---------------|--------------|
| [README_INDEX.md](./README_INDEX.md) | Этот файл | Оглавление БЗ | |

---

## Быстрый поиск по темам

(Заполнять по мере появления ключевых документов: 1–3 ссылки на «точки входа» по сценариям: «Начать изучение», «API», «Тесты» и т.д.)

---

## Правила ведения KB

(Скопировать блок правил из раздела 3 этой инструкции или хранить краткую версию в INDEX.)

**Последнее обновление (опционально):** YYYY-MM-DD
```

### Шаг 3. Адаптировать секции

- Переименовать или добавить секции под свой проект (например: «Деплой», «Мониторинг», «Безопасность»).
- Удалить пустые секции, которые не планируете использовать.
- Ссылки в «Содержание» должны совпадать с якорями заголовков (как в шаблоне: `## 1. Архитектура...` → `#1-архитектура-...`).

### Шаг 4. Первые документы

- Создать 1–2 README по важным темам (например, архитектура, API).
- Добавить их в соответствующую таблицу в `README_INDEX.md` с заполнением всех четырёх колонок.

---

## 3. Правила ведения БЗ (для вставки в README_INDEX или отдельный README)

Ниже — готовый блок правил. Его можно вставить в конец `README_INDEX.md` в новом проекте или вынести в `KB/README_KB_RULES.md` и дать в индексе ссылку.

---

1. **Единая точка входа**
   - Файл `KB/README_INDEX.md` является единственным оглавлением базы знаний.
   - Каждый файл `README_*.md` в папке `KB/` должен быть перечислен в одной из секций индекса.
   - В таблицах секций присутствуют все четыре колонки (**Файл**, **Описание**, **Ключевые темы**, **Актуализация**); колонка «Актуализация» может оставаться пустой (см. п.3).

2. **Именование файлов**
   - Документация оформляется в виде файлов `README_<ТЕМА>.md` (например, `README_API.md`, `README_DB.md`, `README_links.md`). Исторические исключения допускаются; для новых файлов используется схема `README_<ТЕМА>.md`.
   - Если в проекте есть каноническая схема БД, её хранят в одном файле (например, `current_DB_schema.sql`) и при необходимости указывают в индексе.

3. **Актуализация (колонка дат)**
   - В колонке **Актуализация** используется формат `YYYY-MM-DD`.
   - Дата обновляется при содержательных изменениях документа (новые разделы, изменённая логика, новые сущности), а не при правке опечаток.
   - При желании в конце README можно добавить строку `**Последнее обновление:** YYYY-MM-DD`, но это не является обязательным требованием.

4. **Структура и содержание документов**
   - В начале каждого README — заголовок и краткое описание назначения (1–2 предложения).
   - Содержание должно соответствовать «Ключевым темам», указанным для документа в индексе.
   - В конце документа рекомендуется блок «Связанная документация» со ссылками на другие README.

5. **Ссылки и навигация**
   - Внутри KB — относительные ссылки: `[README_API.md](./README_API.md)`.
   - На код и тесты — относительные пути от корня репозитория (например, `src/app.js`, `tests/smoke_test.js`).
   - При переименовании или удалении README обновлять все ссылки и запись в индексе.

6. **Синхронизация с кодом**
   - При добавлении значимой сущности (новый API, модуль, таблица БД, сценарий тестов): обновить или создать соответствующий README, добавить или обновить запись в `README_INDEX.md` (в т.ч. колонку **Актуализация**). При изменении схемы БД — обновить канонический файл схемы и при необходимости README про БД.

7. **Секции индекса**
   - Новый документ размещается в одной из существующих секций. Если тема не вписывается — временно в «Утилиты и прочее»; при следующем рефакторинге индекса решить, нужна ли отдельная секция.

8. **Блок «Быстрый поиск по темам»**
   - В нём перечисляются только ключевые сценарии и 1–3 главных README как точки входа, без дублирования всех документов из таблиц.

9. **Язык и стиль**
   - Краткие формулировки, таблицы для перечислений, списки для шагов и сценариев. Единообразный стиль по проекту.

10. **Чеклист перед коммитом (рекомендация)**
    - При изменениях в KB: проверить, что INDEX обновлён, при содержательных правках обновлена **Актуализация**, все ссылки ведут на существующие файлы.

---

## 4. Рекомендуемый процесс

- **Новая фича/модуль:** определить секцию KB → создать или обновить README → добавить/обновить строку в `README_INDEX.md`.
- **Рефакторинг:** через INDEX найти связанные документы → проверить соответствие описаний коду → поправить README и даты.
- **Онбординг:** использовать блок «Быстрый поиск по темам» как маршрут для новых разработчиков; при появлении must-read документов добавлять их в этот блок.

---

## 5. Что скопировать в другой проект

- Этот файл (`ИНСТРУКЦИЯ_ВЕДЕНИЕ_БЗ.md`) — как справочник.
- Раздел «Шаг 2. Шаблон README_INDEX.md» — основа для `KB/README_INDEX.md`.
- Раздел «3. Правила ведения БЗ» — вставить в конец индекса или в `KB/README_KB_RULES.md`.

После настройки инструкцию можно хранить в `KB/` и при необходимости ссылаться на неё из индекса (например, в «Утилиты и прочее») или удалить из репозитория, оставив только локальную копию для других проектов.

**Последнее обновление:** 2026-02-15
